<!DOCTYPE html>
<html lang="te">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîñ Ticket Booking | ‡∞∂‡±ç‡∞∞‡±Ä ‡∞™‡±ã‡∞≤‡±á‡∞∞‡∞Æ‡±ç‡∞Æ ‡∞§‡∞≤‡±ç‡∞≤‡∞ø ‡∞¶‡±á‡∞µ‡∞∏‡±ç‡∞•‡∞æ‡∞®‡∞Ç</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Mukta+Vaani:wght@400;700&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    
    <link rel="stylesheet" href="CSS/booking.css" />
    <style>
        /* Pro-Specific Overrides for QR and Verification */
        .qr-wrapper { background: white; padding: 10px; border-radius: 10px; border: 1px solid #eee; margin-top: 15px; display: inline-block; }
        .hidden { display: none !important; }
        .price-display { font-size: 24px; font-weight: 800; color: #e65100; margin: 10px 0; display: block; text-align: center; }
        #verifyUI { padding: 40px 20px; background: #fffdf5; min-height: 80vh; }
    </style>
</head>
<body>

    <header id="mainHeader">
        <div class="logo-container">
            <img src="templeimage/1742626228036 (1).jpg" alt="Logo" class="header-logo" />
            <h1>üå∏ ‡∞∂‡±ç‡∞∞‡±Ä ‡∞™‡±ã‡∞≤‡±á‡∞∞‡∞Æ‡±ç‡∞Æ ‡∞§‡∞≤‡±ç‡∞≤‡∞ø ‡∞¶‡±á‡∞µ‡∞∏‡±ç‡∞•‡∞æ‡∞®‡∞Ç üå∏</h1>
            <img src="templeimage/1742626228036 (1).jpg" alt="Logo" class="header-logo" />
        </div>
        <nav>
            <ul>
                <li><a href="index.html">üè† Home</a></li>
                <li><a href="booking.html">üîñ Booking</a></li>
                <li><a href="donations.html">üí∞ Donations</a></li>
                <li><a href="contact.html">üìû Contact</a></li>
            </ul>
        </nav>
    </header>

    <section id="promoBanner" class="booking-description-section">
        <p class="booking-description">
            ‡∞®‡±Ü‡∞≤‡∞ï‡±Å <b>‡∞∞‡±Ç. 101/-</b> ‡∞ö‡±Ü‡∞≤‡±ç‡∞≤‡∞ø‡∞Ç‡∞ö‡∞ø‡∞® ‡∞≠‡∞ï‡±ç‡∞§‡±Å‡∞≤ ‡∞™‡±á‡∞∞‡±ç‡∞≤‡∞§‡±ã ‡∞®‡±Ü‡∞≤ ‡∞∞‡±ã‡∞ú‡±Å‡∞≤ ‡∞™‡∞æ‡∞ü‡±Å ‡∞™‡±ç‡∞∞‡∞§‡±ç‡∞Ø‡±á‡∞ï ‡∞™‡±Ç‡∞ú‡∞≤‡±Å ‡∞ú‡∞∞‡±Å‡∞ó‡±Å‡∞§‡∞æ‡∞Ø‡∞ø.<br>
            üìÖ ‡∞¨‡±Å‡∞ï‡∞ø‡∞Ç‡∞ó‡±ç‡∞∏‡±ç ‡∞µ‡∞ö‡±ç‡∞ö‡±á ‡∞®‡±Ü‡∞≤ ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞Æ‡∞æ‡∞§‡±ç‡∞∞‡∞Æ‡±á ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠‡∞Æ‡∞µ‡±Å‡∞§‡∞æ‡∞Ø‡∞ø.
        </p>
    </section>

    <div class="container">
        <section id="bookingForm" class="booking-container">
            <div class="booking-form">
                <h2>üìú ‡∞®‡±Ü‡∞≤‡∞µ‡∞æ‡∞∞‡±Ä ‡∞™‡±Ç‡∞ú‡∞æ ‡∞¨‡±Å‡∞ï‡∞ø‡∞Ç‡∞ó‡±ç</h2>
                <form id="monthlyForm">
                    <label>üë§ ‡∞™‡±á‡∞∞‡±Å</label>
                    <input type="text" id="monthlyName" required placeholder="‡∞Æ‡±Ä ‡∞™‡±á‡∞∞‡±Å" />
                    
                    <label>üìû ‡∞´‡±ã‡∞®‡±ç ‡∞®‡∞Ç‡∞¨‡∞∞‡±ç</label>
                    <input type="tel" id="monthlyPhone" required pattern="[0-9]{10}" placeholder="10 ‡∞Ö‡∞Ç‡∞ï‡±Ü‡∞≤ ‡∞®‡∞Ç‡∞¨‡∞∞‡±ç" />
                    
                    <label>üïâÔ∏è ‡∞ó‡±ã‡∞§‡±ç‡∞∞‡∞Ç</label>
                    <input type="text" id="monthlyGothram" placeholder="‡∞ó‡±ã‡∞§‡±ç‡∞∞‡∞Ç" />
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <div>
                            <label>üìÖ ‡∞™‡±ç‡∞∞‡∞æ‡∞∞‡∞Ç‡∞≠ ‡∞®‡±Ü‡∞≤</label>
                            <input type="month" id="startMonth" required />
                        </div>
                        <div>
                            <label>üìÖ ‡∞Æ‡±Å‡∞ó‡∞ø‡∞Ç‡∞™‡±Å ‡∞®‡±Ü‡∞≤</label>
                            <input type="month" id="endMonth" required />
                        </div>
                    </div>

                    <div class="amount-highlight">
                        <span id="livePrice">‚Çπ 101</span>
                        <p style="font-size: 12px; margin: 0;" id="monthCount">1 Month Selection</p>
                    </div>
                    
                    <button type="submit" class="monthly-btn">üõï ‡∞¨‡±Å‡∞ï‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø & Receipt ‡∞™‡±ä‡∞Ç‡∞¶‡∞Ç‡∞°‡∞ø</button>
                </form>
            </div>
        </section>

        <section id="bookingSuccessDetails" class="booking-success-section hidden">
            <div id="captureArea" class="ticket-card">
                <div class="ticket-header">
                    <img src="templeimage/1742626228036 (1).jpg" alt="Logo" class="ticket-logo-small" />
                    <h3>‡∞∂‡±ç‡∞∞‡±Ä ‡∞™‡±ã‡∞≤‡±á‡∞∞‡∞Æ‡±ç‡∞Æ ‡∞§‡∞≤‡±ç‡∞≤‡∞ø ‡∞¶‡±á‡∞µ‡∞∏‡±ç‡∞•‡∞æ‡∞®‡∞Ç, ‡∞ö‡±Ä‡∞∞‡∞æ‡∞≤</h3>
                    <p class="booking-date-label">‡∞¨‡±Å‡∞ï‡∞ø‡∞Ç‡∞ó‡±ç ‡∞§‡±á‡∞¶‡±Ä: <span id="displayDate"></span></p>
                </div>
                <div class="ticket-body">
                    <p><strong>üîñ ‡∞¨‡±Å‡∞ï‡∞ø‡∞Ç‡∞ó‡±ç ID:</strong> <span id="displayBookingID"></span></p>
                    <p><strong>üë§ ‡∞™‡±á‡∞∞‡±Å:</strong> <span id="displayName"></span></p>
                    <p><strong>üìû ‡∞´‡±ã‡∞®‡±ç:</strong> <span id="displayPhone"></span></p>
                    <p><strong>üïâÔ∏è ‡∞ó‡±ã‡∞§‡±ç‡∞∞‡∞Ç:</strong> <span id="displayGothram"></span></p>
                    <p><strong>üìÖ ‡∞ï‡∞æ‡∞≤‡∞Ç:</strong> <span id="displayPeriod"></span></p>
                    <div class="amount-highlight">
                        <strong>üí∞ ‡∞Æ‡±ä‡∞§‡±ç‡∞§‡∞Ç:</strong> ‚Çπ<span id="displayAmount"></span>/-
                    </div>
                    <center>
                        <div class="qr-wrapper"><div id="qrcode"></div></div>
                    </center>
                </div>
                <div class="ticket-footer">
                    <p>üôè ‡∞Ö‡∞Æ‡±ç‡∞Æ‡∞µ‡∞æ‡∞∞‡∞ø ‡∞Ü‡∞∂‡±Ä‡∞∏‡±ç‡∞∏‡±Å‡∞≤‡±Å ‡∞Æ‡±Ä‡∞ï‡±Å ‡∞ï‡∞≤‡∞ó‡∞æ‡∞≤‡∞®‡∞ø ‡∞ï‡±ã‡∞∞‡±Å‡∞ï‡±Å‡∞Ç‡∞ü‡±Å‡∞®‡±ç‡∞®‡∞æ‡∞Æ‡±Å.</p>
                </div>
            </div>

            <div class="ticket-actions">
                <button onclick="saveAsImage()" class="act-btn btn-save"><i class="fas fa-image"></i> Save Image</button>
                <button onclick="shareOnWhatsApp()" class="act-btn btn-wa"><i class="fab fa-whatsapp"></i> WhatsApp</button>
                <button onclick="shareNative()" class="act-btn btn-share"><i class="fas fa-share-nodes"></i> Share</button>
                <button onclick="window.print()" class="act-btn btn-print"><i class="fas fa-print"></i> Print</button>
            </div>
            <button id="closeTicketBtn" class="close-btn">‚ùå Close Ticket</button>
        </section>

        <section id="verifyUI" class="hidden">
            <div class="ticket-card" style="border-top: 8px solid green;">
                <center><i class="fas fa-check-circle" style="color:green; font-size: 40px;"></i></center>
                <h3 style="text-align:center; color:green;">Verified Temple Record</h3>
                <hr>
                <div id="vDetails"></div>
            </div>
            <button onclick="location.href='booking.html'" class="monthly-btn">Go to Bookings</button>
        </section>
    </div>

    <div id="spinner" class="spinner hidden"></div>
    <button id="openTicketBtn" class="floating-btn hidden">üé´ View Ticket</button>

    <script src="js/l.js"></script>
</body>
    </html>
                        
